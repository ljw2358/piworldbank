<!doctype html>
<html lang="en" data-brand="PiWorldBank">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>PiWorldBank · One-Touch Demo & Install · EN +10</title>

  <!-- Canonical / SEO -->
  <link rel="canonical" href="https://ljw2358.github.io/PiWorldBank/" />
  <meta name="description" content="PiWorldBank: Web3 Digital Bank for Pioneers. One-touch demo, APK install, and full EN +10 language onboarding (Swap · Features · Security · FAQ). Official: pi://piworldbank" />
  <meta name="keywords" content="PiWorldBank, Pi Network, Mainnet, Web3, Digital Bank, GCV, Swap, Pi App, PWB" />

  <!-- Open Graph -->
  <meta property="og:title" content="PiWorldBank · One-Touch Demo & Install" />
  <meta property="og:description" content="One-touch demo, APK install, and full EN +10 onboarding (Swap · Features · Security · FAQ). Official: pi://piworldbank" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://ljw2358.github.io/PiWorldBank/" />
  <!-- Tip: 실제 커버 이미지를 나중에 교체해도 됨 -->
  <meta property="og:image" content="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='1200' height='630'><rect width='100%' height='100%' fill='%230b0b14'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='%23ffffff' font-size='64' font-family='Arial,Helvetica,sans-serif'>PiWorldBank</text></svg>" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:locale:alternate" content="ko_KR" />
  <meta property="og:locale:alternate" content="zh_CN" />
  <meta property="og:locale:alternate" content="es_ES" />
  <meta property="og:locale:alternate" content="fr_FR" />
  <meta property="og:locale:alternate" content="de_DE" />
  <meta property="og:locale:alternate" content="ja_JP" />
  <meta property="og:locale:alternate" content="ru_RU" />
  <meta property="og:locale:alternate" content="ar_SA" />
  <meta property="og:locale:alternate" content="pt_BR" />
  <meta property="og:locale:alternate" content="hi_IN" />

  <!-- Hreflang (language deep links) -->
  <link rel="alternate" hreflang="en" href="https://ljw2358.github.io/PiWorldBank/?lang=en" />
  <link rel="alternate" hreflang="ko" href="https://ljw2358.github.io/PiWorldBank/?lang=ko" />
  <link rel="alternate" hreflang="zh-Hans" href="https://ljw2358.github.io/PiWorldBank/?lang=zh" />
  <link rel="alternate" hreflang="es" href="https://ljw2358.github.io/PiWorldBank/?lang=es" />
  <link rel="alternate" hreflang="fr" href="https://ljw2358.github.io/PiWorldBank/?lang=fr" />
  <link rel="alternate" hreflang="de" href="https://ljw2358.github.io/PiWorldBank/?lang=de" />
  <link rel="alternate" hreflang="ja" href="https://ljw2358.github.io/PiWorldBank/?lang=ja" />
  <link rel="alternate" hreflang="ru" href="https://ljw2358.github.io/PiWorldBank/?lang=ru" />
  <link rel="alternate" hreflang="ar" href="https://ljw2358.github.io/PiWorldBank/?lang=ar" />
  <link rel="alternate" hreflang="pt-BR" href="https://ljw2358.github.io/PiWorldBank/?lang=pt" />
  <link rel="alternate" hreflang="hi" href="https://ljw2358.github.io/PiWorldBank/?lang=hi" />

  <!-- Icons (data URI so it works without files; 나중에 실제 PNG로 교체 가능) -->
  <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAQAAAC6nd/tAAAAD0lEQVQYV2NkYGBgYGBg+gMAAh8AAv2Cw3YAAAAASUVORK5CYII=" sizes="192x192" />
  <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAABi6S0dAAAAG0lEQVQ4y2NgGAWjYBSMglEwCkbBqNgEAAAkNwA3gW6n3wAAAABJRU5ErkJggg==" sizes="512x512" />
  <link rel="apple-touch-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAQAAAC6nd/tAAAAD0lEQVQYV2NkYGBgYGBg+gMAAh8AAv2Cw3YAAAAASUVORK5CYII=" />

  <meta name="theme-color" content="#0b0b14" />
  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />

  <style>
    :root{
      --bg:#0b0b14; --card:#121427; --ink:#f5f7ff; --ink-d:#c6cae6;
      --accent:#8b5cf6; --accent2:#22d3ee; --ok:#10b981; --warn:#f59e0b; --line:#23264a;
      --btn:#0f1230; --btnb:#2b2f55;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0;
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,
        "Apple SD Gothic Neo","Noto Sans KR","PingFang SC","Microsoft YaHei","Noto Sans SC",sans-serif;
      background:
        radial-gradient(1200px 800px at 80% -20%,rgba(34,211,238,.18),transparent),
        linear-gradient(180deg,#0b0b14,#0b0b14 40%,#0f1030);
      color:var(--ink);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      word-break:keep-all; overflow-wrap:anywhere; hyphens:none;
    }
    a{color:inherit;text-decoration:none}
    .shell{max-width:1100px;margin:0 auto;padding:28px}
    .brand{display:flex;align-items:center;gap:14px;margin-bottom:18px}
    .logo{
      width:44px;height:44px;border-radius:12px;
      background:conic-gradient(from 0deg,var(--accent),var(--accent2));
      box-shadow:0 8px 30px rgba(139,92,246,.35);
      display:grid;place-items:center;font-weight:800;color:#0b0b14
    }
    h1{margin:2px 0 8px;font-size:28px;letter-spacing:.2px}
    .lead{margin:0;color:var(--ink-d)}
    .badge{font-size:12px;padding:4px 8px;border:1px solid var(--btnb);border-radius:999px;color:var(--ink-d)}
    .grid{display:grid;grid-template-columns:1.15fr .85fr;gap:18px;margin-top:22px}
    .card{background:linear-gradient(180deg,#121427,#0e0f20);border:1px solid var(--line);border-radius:18px;padding:18px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:12px 14px;border-radius:12px;border:1px solid var(--btnb);background:var(--btn);color:var(--ink);cursor:pointer;font-weight:700;transition:.15s transform ease,.15s background ease}
    .btn:hover{transform:translateY(-1px);background:#111542}
    .btn:focus{outline:2px solid var(--accent2);outline-offset:2px}
    .btn.primary{background:linear-gradient(90deg,var(--accent),#5eead4);border-color:transparent;color:#07111e}
    .btn.ok{background:linear-gradient(90deg,#34d399,#10b981);border-color:transparent;color:#062a22}
    .pill{padding:7px 11px;border-radius:999px;background:#0f1230;border:1px solid var(--btnb);color:var(--ink-d);font-size:12px}
    .section-title{font-size:13px;color:#aeb4de;text-transform:uppercase;letter-spacing:.12em;margin:4px 0 12px}
    .hint{font-size:12px;color:var(--ink-d);margin-top:8px}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Noto Sans Mono",monospace}
    .divider{height:1px;background:linear-gradient(90deg,transparent,#242951,transparent);margin:14px 0}
    .hide{display:none} .nowrap{white-space:nowrap}
    .chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border:1px solid var(--btnb);border-radius:10px;background:#0f1230;font-size:12px;cursor:pointer}
    .chip:hover{background:#111542}
    .toast{position:fixed;left:50%;bottom:22px;transform:translateX(-50%);background:#111642;color:#e8edff;padding:10px 14px;border-radius:10px;border:1px solid #2b2f55;box-shadow:0 8px 22px rgba(0,0,0,.35);font-size:13px;opacity:0;pointer-events:none;transition:.25s}
    .toast.show{opacity:1}
    @media (max-width:980px){ .grid{grid-template-columns:1fr;gap:14px} }
    ul.check{padding-left:18px} ul.check li{margin:4px 0}
    .stamp{font-size:12px;color:#9aa3da} .cta{margin-top:10px} .hero{margin-top:6px}
    .langbar{display:flex;gap:8px;flex-wrap:wrap}
    [dir="rtl"]{direction:rtl} [dir="rtl"] .row{flex-direction:row-reverse}
  </style>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"SoftwareApplication",
    "name":"PiWorldBank",
    "applicationCategory":"FinanceApplication",
    "operatingSystem":"Android, iOS, Web",
    "offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},
    "url":"https://ljw2358.github.io/PiWorldBank/",
    "sameAs":["pi://piworldbank","https://linktr.ee/hyekong"]
  }
  </script>
</head>
<body>
  <div class="shell" id="main" role="main" aria-label="PiWorldBank Main">
    <!-- Brand / Hero -->
    <header class="brand" aria-label="Brand header">
      <div class="logo" aria-hidden="true">P</div>
      <div class="hero">
        <div class="row" style="gap:8px">
          <h1 class="nowrap" id="brandTitle">PiWorldBank</h1>
          <span class="badge mono" title="Official slug">pi://piworldbank</span>
        </div>
        <p class="lead">Web3 Digital Bank for Pioneers — One-touch demo · APK install · Multi-language (EN +10)</p>
        <div class="langbar" role="tablist" aria-label="Language tabs" id="langTabs"></div>
      </div>
    </header>

    <section class="grid" aria-label="Action and Preview">
      <!-- Actions & Content -->
      <section class="card" id="actions" aria-label="Actions & Content">
        <div class="section-title">One-Touch</div>
        <div class="row" role="group" aria-label="Primary actions">
          <button class="btn primary" id="btnOpenPi" aria-label="Open in Pi Browser">Open&nbsp;in&nbsp;Pi&nbsp;Browser</button>
          <button class="btn ok" id="btnInstall" aria-label="Install APK">Install&nbsp;APK</button>
          <button class="btn" id="btnDemo" aria-label="Open Live Demo">Live&nbsp;Demo</button>
        </div>
        <div class="hint">
          Android → APK install · iPhone/Desktop → demo &amp; video preview.  
          Unified brand/slug/URL: <strong>PiWorldBank</strong> only (no word-breaks).
        </div>

        <div class="divider" role="separator"></div>

        <!-- Content container (filled by i18n dictionary) -->
        <article id="i18n-content"></article>

        <div class="divider" role="separator"></div>

        <!-- Official links + copy chips -->
        <div class="row" aria-label="Official links">
          <span class="pill">Official&nbsp;Slug:&nbsp;<span class="mono">pi://piworldbank</span></span>
          <span class="pill">PWB&nbsp;URL:&nbsp;<span class="mono">https://ljw2358.github.io/PiWorldBank</span></span>
        </div>
        <div class="row" style="margin-top:8px" aria-label="Copy helpers">
          <button class="chip" data-copy="pi://piworldbank" aria-label="Copy official slug">
            <span class="mono">pi://piworldbank</span> ⎘
          </button>
          <button class="chip" data-copy="https://ljw2358.github.io/PiWorldBank" aria-label="Copy website URL">
            <span class="mono">/PiWorldBank</span> ⎘
          </button>
        </div>
        <p class="hint">Brand/slug/URL are fully unified as <strong>PiWorldBank</strong>. No mixed naming, no awkward word-breaks.</p>
      </section>

      <!-- Preview / Support -->
      <aside class="card" id="preview" aria-label="Preview & Support">
        <div class="section-title">Preview</div>

        <!-- Video -->
        <div id="videoBox" class="hide" style="aspect-ratio:16/9;background:#0c0f22;border:1px solid #22264a;border-radius:12px;overflow:hidden">
          <iframe id="yt" width="100%" height="100%" src="" title="PiWorldBank Demo"
            frameborder="0" allow="accelerometer;autoplay;clipboard-write;encrypted-media;gyroscope;picture-in-picture;web-share"
            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>

        <!-- Live Web Demo -->
        <div id="demoBox" class="hide" style="margin-top:12px">
          <a class="btn" id="btnOpenWebDemo" href="#" rel="noopener">Open&nbsp;Web&nbsp;Demo</a>
          <div class="hint">Web demo mirrors PiWorldBank UI (Balance · Send · Rewards · Basic&nbsp;Income).</div>
        </div>

        <div class="divider" role="separator"></div>

        <div class="section-title">Support</div>
        <div class="row" style="gap:8px">
          <a class="btn" href="https://linktr.ee/hyekong" target="_blank" rel="noopener" aria-label="Open Linktree">Linktree</a>
          <a class="btn" href="https://youtube.com/@hyekong" target="_blank" rel="noopener" aria-label="Open YouTube">YouTube</a>
          <a class="btn" href="https://tiktok.com/@hyekong" target="_blank" rel="noopener" aria-label="Open TikTok">TikTok</a>
        </div>
        <div class="hint" style="margin-top:8px;line-height:1.5">
          KB&nbsp;Bank&nbsp;<button class="chip" data-copy="66910201596112">66910201596112</button>&nbsp;(Lee&nbsp;Jaewan)<br/>
          Pi&nbsp;Wallet&nbsp;<button class="chip" data-copy="GCLU237U7XPKOCHNWLTVNISIC5I6A273VB5RVKHB5CS5Y7DM4XKFES2U">GCLU237U7XPKOCHNWLTVNISIC5I6A273VB5RVKHB5CS5Y7DM4XKFES2U</button><br/>
          Cultureland&nbsp;SMS&nbsp;<button class="chip" data-copy="010-6797-0982">010-6797-0982</button> · Referral&nbsp;<button class="chip" data-copy="ljw2358">ljw2358</button>
        </div>

        <div class="divider" role="separator"></div>
        <div class="stamp">© <span id="yr"></span> PiWorldBank · Privacy-first · Secure over HTTPS · Unified brand only: “PiWorldBank”.</div>
      </aside>
    </section>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite">Copied</div>

  <noscript>
    <div style="max-width:1100px;margin:16px auto;padding:10px 14px;border-radius:10px;border:1px solid #2b2f55;background:#111642;color:#e8edff">
      PiWorldBank: JavaScript is disabled; language switch, install, and demo buttons may be limited.
    </div>
  </noscript>

  <script>
    const $ = s => document.querySelector(s);
    const $$ = s => Array.from(document.querySelectorAll(s));
    const show = el => el.classList.remove('hide');
    const hide = el => el.classList.add('hide');

    // Year
    $('#yr').textContent = new Date().getFullYear();

    // Device detection
    const ua = navigator.userAgent;
    const isAndroid = /Android/i.test(ua);
    const isIOS = /iPhone|iPad|iPod/i.test(ua);

    // === CONFIG: 실제값으로 교체하면 10/10 ===
    const APK_URL = './PiWorldBank.apk'; // signed APK
    const DEMO_URL = './demo/'; // live web demo
    const YT_VIDEO_ID = ''; // standard YT video ID (not Shorts)
    const DOCS_URL = 'https://ljw2358.github.io/PiWorldBank/docs';

    // Query param lang override (?lang=en|ko|zh|es|fr|de|ja|ru|ar|pt|hi)
    (function applyQueryLang(){
      const q = new URLSearchParams(location.search);
      const paramLang = q.get('lang');
      if (paramLang && ['en','ko','zh','es','fr','de','ja','ru','ar','pt','hi'].includes(paramLang)) {
        sessionStorage.setItem('pwb-lang', paramLang);
      }
    })();

    // Toast
    const toast = $('#toast');
    let toastTimer;
    const notify = (msg='Copied') => {
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(toastTimer);
      toastTimer = setTimeout(() => toast.classList.remove('show'), 1600);
    };

    // Copy helpers
    $$('.chip[data-copy]').forEach(ch => ch.addEventListener('click', async () => {
      const text = ch.getAttribute('data-copy') || '';
      try { await navigator.clipboard.writeText(text); notify('Copied: ' + text); }
      catch { notify('Copy failed'); }
    }));

    // i18n dictionary (EN +10)
    const i18n = {
      en:{tab:'English',dir:'ltr',sections:{
        swapTitle:'🔄 Swap · Pi ↔ Local Digital Currency',
        swapDesc:'Swap your Pi through PiWorldBank’s secure Web3 interface — <span class="nowrap">real-time</span> execution with clean UX.',
        swapBullets:['Real-time GCV reference rate','One-click swap execution','Transparent transaction history & receipts'],
        featTitle:'🚀 Features',
        featBullets:['Balances, Send, Rewards, Basic&nbsp;Income','Deep link: <span class="mono">pi://piworldbank</span>','Auto language (EN +10) · No awkward word-breaks'],
        secTitle:'🛡️ Security & Compliance',
        secBullets:['HTTPS transport · Signed APK · No third-party trackers','Least-privilege access · No PII stored in demo','Clear Testnet/Mainnet context; explicit disclaimers'],
        privTitle:'📜 Privacy',
        privBullets:['No account passwords or seed phrases are collected','Optional minimal telemetry (performance & errors)'],
        roadTitle:'🗺️ Roadmap',
        roadBullets:['V1: Swap + Rewards Dashboard (Mainnet)','V2: Scheduled payouts, vaults, statements (PDF)','V3: Multi-region liquidity partners · Merchant SDK'],
        faqTitle:'❓ FAQ',
        faqQAs:[['When does Mainnet go live?','Immediately after Core Team approval.'],['Does the demo store data?','No. Demo is read-only or sandboxed.'],['Is APK required on iOS?','No. Use the web demo and Pi Browser deep-link.']],
        ctaOpen:'Open PiWorldBank',ctaDocs:'Docs'}},
      ko:{tab:'한국어',dir:'ltr',sections:{
        swapTitle:'🔄 스왑 · 파이 ↔ 현지 디지털 화폐',
        swapDesc:'PiWorldBank의 안전한 Web3 인터페이스로 <span class="nowrap">실시간</span> 스왑을 실행하세요. 단 한 번의 클릭으로 완료됩니다.',
        swapBullets:['실시간 GCV 기준 환율','원클릭 스왑 실행','투명한 거래 내역 및 영수증 제공'],
        featTitle:'🚀 주요 기능',
        featBullets:['잔액 · 송금 · 보상 · 기본소득','딥링크: <span class="mono">pi://piworldbank</span>','영문 +10개 언어 자동 · 단어 끊김 없음'],
        secTitle:'🛡️ 보안 및 컴플라이언스',
        secBullets:['HTTPS 전송 · 서명된 APK · 서드파티 트래커 미사용','최소 권한 원칙 · 데모에서는 개인정보(PII) 저장 없음','Testnet/Mainnet 상태를 명확히 고지'],
        privTitle:'📜 개인정보 보호',
        privBullets:['계정 비밀번호/시드 구절은 수집하지 않음','필수 성능/오류 텔레메트리만 선택적 수집'],
        roadTitle:'🗺️ 로드맵',
        roadBullets:['V1: 스왑 + 보상 대시보드 (메인넷)','V2: 예약 지급, 금고, 명세서(PDF)','V3: 멀티 리전 유동성 파트너 · 가맹점용 SDK'],
        faqTitle:'❓ 자주 묻는 질문',
        faqQAs:[['메인넷은 언제 가동되나요?','Core Team 승인 직후 즉시.'],['데모가 데이터를 저장하나요?','아니요. 읽기 전용/샌드박스입니다.'],['iOS에서 APK가 필요한가요?','아닙니다. 웹 데모와 Pi Browser 딥링크를 사용하세요.']],
        ctaOpen:'PiWorldBank 열기',ctaDocs:'문서'}},
      zh:{tab:'中文',dir:'ltr',sections:{
        swapTitle:'🔄 兑换 · Pi ↔ 本地数字货币',
        swapDesc:'通过 PiWorldBank 安全的 Web3 界面，<span class="nowrap">实时</span>完成一键兑换，体验流畅的金融交互。',
        swapBullets:['基于 GCV 的实时参考汇率','一键快速执行兑换','透明的交易记录与收据'],
        featTitle:'🚀 主要功能',
        featBullets:['余额 · 转账 · 奖励 · 基本收入','深链：<span class="mono">pi://piworldbank</span>','英文 +10 种语言自动 · 无尴尬断词'],
        secTitle:'🛡️ 安全与合规',
        secBullets:['HTTPS 传输 · 已签名 APK · 无第三方跟踪','最小权限原则 · 演示不保存任何个人数据','清晰标注 Testnet/Mainnet 状态与免责声明'],
        privTitle:'📜 隐私',
        privBullets:['不收集账号密码/助记词','仅可选收集必要的性能与错误数据'],
        roadTitle:'🗺️ 路线图',
        roadBullets:['V1：兑换 + 奖励面板（主网）','V2：定时发放、金库、对账单（PDF）','V3：多区域流动性伙伴 · 商户 SDK'],
        faqTitle:'❓ 常见问题',
        faqQAs:[['主网何时上线？','核心团队批准后立即启用。'],['演示会保存数据吗？','不会。为只读/沙盒环境。'],['iOS 需要 APK 吗？','不需要。请使用网页演示与 Pi 浏览器深链。']],
        ctaOpen:'打开 PiWorldBank',ctaDocs:'文档'}},
      es:{tab:'Español',dir:'ltr',sections:{
        swapTitle:'🔄 Intercambio · Pi ↔ Moneda digital local',
        swapDesc:'Cambia tu Pi mediante la interfaz Web3 segura de PiWorldBank — ejecución en <span class="nowrap">tiempo real</span> con UX limpia.',
        swapBullets:['Tasa de referencia GCV en tiempo real','Ejecución con un clic','Historial de transacciones y recibos transparentes'],
        featTitle:'🚀 Funciones',
        featBullets:['Saldos, Envíos, Recompensas, Ingreso&nbsp;Básico','Enlace profundo: <span class="mono">pi://piworldbank</span>','Idioma automático (EN +10) · Sin cortes extraños'],
        secTitle:'🛡️ Seguridad y Cumplimiento',
        secBullets:['Transporte HTTPS · APK firmado · Sin rastreadores','Principio de mínimo privilegio · Sin PII en demo','Contexto claro de Testnet/Mainnet; avisos explícitos'],
        privTitle:'📜 Privacidad',
        privBullets:['No se recopilan contraseñas ni semillas','Telemetría mínima opcional (rendimiento y errores)'],
        roadTitle:'🗺️ Hoja de ruta',
        roadBullets:['V1: Intercambio + Panel de Recompensas (Mainnet)','V2: Pagos programados, bóvedas, estados (PDF)','V3: Socios de liquidez multi-región · SDK para comercios'],
        faqTitle:'❓ Preguntas frecuentes',
        faqQAs:[['¿Cuándo se activa Mainnet?','Inmediatamente tras la aprobación del Core Team.'],['¿La demo guarda datos?','No. Es de solo lectura o en sandbox.'],['¿Se requiere APK en iOS?','No. Use la demo web y el deep link de Pi.']],
        ctaOpen:'Abrir PiWorldBank',ctaDocs:'Docs'}},
      fr:{tab:'Français',dir:'ltr',sections:{
        swapTitle:'🔄 Échange · Pi ↔ Monnaie numérique locale',
        swapDesc:'Échangez votre Pi via l’interface Web3 sécurisée de PiWorldBank — exécution en <span class="nowrap">temps réel</span> avec une UX fluide.',
        swapBullets:['Taux GCV en temps réel','Exécution en un clic','Historique des transactions et reçus transparents'],
        featTitle:'🚀 Fonctionnalités',
        featBullets:['Soldes, Envoi, Récompenses, Revenu&nbsp;de&nbsp;base','Lien profond : <span class="mono">pi://piworldbank</span>','Langue auto (EN +10) · Pas de coupures de mots'],
        secTitle:'🛡️ Sécurité & Conformité',
        secBullets:['Transport HTTPS · APK signé · Pas de traqueurs tiers','Principe du moindre privilège · Pas de PII en démo','Contexte Testnet/Mainnet clair; avertissements explicites'],
        privTitle:'📜 Confidentialité',
        privBullets:['Aucun mot de passe ni phrase secrète collecté','Télémétrie minimale optionnelle (perf & erreurs)'],
        roadTitle:'🗺️ Feuille de route',
        roadBullets:['V1 : Échange + Tableau de bord des récompenses (Mainnet)','V2 : Paiements planifiés, coffres, relevés (PDF)','V3 : Partenaires de liquidité multi-régions · SDK commerçant'],
        faqTitle:'❓ FAQ',
        faqQAs:[['Quand Mainnet sera-t-il actif ?','Immédiatement après l’approbation du Core Team.'],['La démo stocke-t-elle des données ?','Non. Lecture seule/sandbox.'],['APK requis sur iOS ?','Non. Utilisez la démo web et le deep link Pi.']],
        ctaOpen:'Ouvrir PiWorldBank',ctaDocs:'Docs'}},
      de:{tab:'Deutsch',dir:'ltr',sections:{
        swapTitle:'🔄 Tausch · Pi ↔ Lokale Digitalwährung',
        swapDesc:'Tausche Pi über die sichere Web3-Oberfläche von PiWorldBank — <span class="nowrap">Echtzeit</span>-Ausführung mit klarer UX.',
        swapBullets:['Echtzeit-GCV-Referenzkurs','Ausführung mit einem Klick','Transparente Transaktionshistorie & Belege'],
        featTitle:'🚀 Funktionen',
        featBullets:['Guthaben, Senden, Rewards, Grundeinkommen','Deeplink: <span class="mono">pi://piworldbank</span>','Automatische Sprache (EN +10) · Keine Worttrennungen'],
        secTitle:'🛡️ Sicherheit & Compliance',
        secBullets:['HTTPS-Transport · Signierte APK · Keine Tracker','Prinzip der minimalen Rechte · Keine PII in der Demo','Klarer Testnet/Mainnet-Kontext; deutliche Hinweise'],
        privTitle:'📜 Datenschutz',
        privBullets:['Keine Passwörter oder Seed-Phrasen erhoben','Optionale minimale Telemetrie (Performance & Fehler)'],
        roadTitle:'🗺️ Roadmap',
        roadBullets:['V1: Tausch + Rewards-Dashboard (Mainnet)','V2: Geplante Auszahlungen, Tresore, Abrechnungen (PDF)','V3: Multi-Region-Liquiditätspartner · Händler-SDK'],
        faqTitle:'❓ FAQ',
        faqQAs:[['Wann wird Mainnet aktiv?','Unmittelbar nach Freigabe durch das Core Team.'],['Speichert die Demo Daten?','Nein. Nur Lesezugriff/Sandbox.'],['APK auf iOS erforderlich?','Nein. Web-Demo und Pi-Deeplink nutzen.']],
        ctaOpen:'PiWorldBank öffnen',ctaDocs:'Dokumente'}},
      ja:{tab:'日本語',dir:'ltr',sections:{
        swapTitle:'🔄 スワップ · Pi ↔ 現地デジタル通貨',
        swapDesc:'PiWorldBank の安全な Web3 インターフェースで、<span class="nowrap">リアルタイム</span>にワンクリック交換。',
        swapBullets:['GCV 参照レート（リアルタイム）','ワンクリック実行','透明な取引履歴とレシート'],
        featTitle:'🚀 機能',
        featBullets:['残高・送金・報酬・ベーシックインカム','ディープリンク：<span class="mono">pi://piworldbank</span>','自動言語（EN +10）・不自然な改行なし'],
        secTitle:'🛡️ セキュリティ & コンプライアンス',
        secBullets:['HTTPS 送信・署名済み APK・トラッカーなし','最小権限・デモで PII 不保存','Testnet/Mainnet を明示'],
        privTitle:'📜 プライバシー',
        privBullets:['パスワード/シード句は収集しない','最小限のテレメトリ（任意）'],
        roadTitle:'🗺️ ロードマップ',
        roadBullets:['V1：スワップ + 報酬ダッシュボード（メインネット）','V2：定期支払い、ボールト、明細（PDF）','V3：多地域の流動性パートナー・加盟店 SDK'],
        faqTitle:'❓ よくある質問',
        faqQAs:[['メインネットはいつ稼働？','Core Team の承認後すぐ。'],['デモはデータを保存する？','いいえ。読み取り専用/サンドボックスです。'],['iOS で APK は必要？','不要です。Web デモと Pi ブラウザのディープリンクを使用。']],
        ctaOpen:'PiWorldBank を開く',ctaDocs:'ドキュメント'}},
      ru:{tab:'Русский',dir:'ltr',sections:{
        swapTitle:'🔄 Обмен · Pi ↔ Местная цифровая валюта',
        swapDesc:'Обменивайте Pi через безопасный Web3-интерфейс PiWorldBank — <span class="nowrap">в реальном времени</span> и с удобным UX.',
        swapBullets:['Референтный курс GCV в реальном времени','Исполнение в один клик','Прозрачная история транзакций и квитанции'],
        featTitle:'🚀 Возможности',
        featBullets:['Баланс, Переводы, Награды, Базовый доход','Глубокая ссылка: <span class="mono">pi://piworldbank</span>','Автоязык (EN +10) · Без некрасивых переносов'],
        secTitle:'🛡️ Безопасность и соответствие',
        secBullets:['HTTPS-транспорт · Подписанный APK · Без трекеров','Минимально необходимые привилегии · Без PII в демо','Ясный контекст Testnet/Mainnet; явные дисклеймеры'],
        privTitle:'📜 Конфиденциальность',
        privBullets:['Пароли/seed-фразы не собираются','Опциональная минимальная телеметрия (производительность/ошибки)'],
        roadTitle:'🗺️ Дорожная карта',
        roadBullets:['V1: Обмен + Панель наград (Mainnet)','V2: Плановые выплаты, хранилища, отчеты (PDF)','V3: Партнеры ликвидности по регионам · SDK для мерчантов'],
        faqTitle:'❓ Вопросы и ответы',
        faqQAs:[['Когда запустится Mainnet?','Сразу после одобрения Core Team.'],['Демо хранит данные?','Нет. Только чтение/песочница.'],['Нужен APK на iOS?','Нет. Используйте веб-демо и deep-link Pi.']],
        ctaOpen:'Открыть PiWorldBank',ctaDocs:'Документы'}},
      ar:{tab:'العربية',dir:'rtl',sections:{
        swapTitle:'🔄 مبادلة · Pi ↔ العملة الرقمية المحلية',
        swapDesc:'قم بمبادلة Pi عبر واجهة Web3 الآمنة من PiWorldBank — تنفيذ <span class="nowrap">فوري</span> وتجربة استخدام سلسة.',
        swapBullets:['سعر GCV المرجعي في الوقت الفعلي','تنفيذ بنقرة واحدة','سجل معاملات وإيصالات شفافة'],
        featTitle:'🚀 المزايا',
        featBullets:['الأرصدة · الإرسال · المكافآت · الدخل الأساسي','رابط عميق: <span class="mono">pi://piworldbank</span>','لغة تلقائية (EN +10) · دون تقطيعات كلمات'],
        secTitle:'🛡️ الأمان والامتثال',
        secBullets:['نقل عبر HTTPS · ملف APK موقّع · بدون متتبعات','مبدأ أقل الصلاحيات · لا تخزين لبيانات شخصية في العرض','توضيح واضح لحالة Testnet/Mainnet'],
        privTitle:'📜 الخصوصية',
        privBullets:['لا يتم جمع كلمات المرور أو عبارات الاسترجاع','قياسات اختيارية وخفيفة للأداء/الأخطاء'],
        roadTitle:'🗺️ خارطة الطريق',
        roadBullets:['V1: مبادلة + لوحة مكافآت (Mainnet)','V2: دفعات مجدولة، خزائن، كشوف (PDF)','V3: شركاء سيولة متعدد المناطق · SDK للتجار'],
        faqTitle:'❓ الأسئلة الشائعة',
        faqQAs:[['متى يتم تفعيل Mainnet؟','فور موافقة فريق Core.'],['هل يحتفظ العرض ببيانات؟','لا. وضع قراءة فقط/صندوق رمل.'],['هل نحتاج APK على iOS؟','لا. استخدم العرض على الويب والرابط العميق لـ Pi.']],
        ctaOpen:'افتح PiWorldBank',ctaDocs:'الوثائق'}},
      pt:{tab:'Português (BR)',dir:'ltr',sections:{
        swapTitle:'🔄 Troca · Pi ↔ Moeda digital local',
        swapDesc:'Troque seu Pi pela interface Web3 segura do PiWorldBank — execução em <span class="nowrap">tempo real</span> com UX limpa.',
        swapBullets:['Taxa de referência GCV em tempo real','Execução com um clique','Histórico e recibos transparentes'],
        featTitle:'🚀 Recursos',
        featBullets:['Saldos, Enviar, Recompensas, Renda&nbsp;Básica','Deep link: <span class="mono">pi://piworldbank</span>','Idioma automático (EN +10) · Sem quebras estranhas'],
        secTitle:'🛡️ Segurança & Conformidade',
        secBullets:['Transporte HTTPS · APK assinado · Sem rastreadores','Princípio do menor privilégio · Sem PII na demo','Contexto claro de Testnet/Mainnet; avisos explícitos'],
        privTitle:'📜 Privacidade',
        privBullets:['Sem coletar senhas ou frases-semente','Telemetria mínima opcional (desempenho & erros)'],
        roadTitle:'🗺️ Roteiro',
        roadBullets:['V1: Troca + Painel de Recompensas (Mainnet)','V2: Pagamentos agendados, cofres, extratos (PDF)','V3: Parceiros de liquidez multi-região · SDK para lojistas'],
        faqTitle:'❓ FAQ',
        faqQAs:[['Quando o Mainnet entra no ar?','Imediatamente após aprovação do Core Team.'],['A demo armazena dados?','Não. Somente leitura/sandbox.'],['APK é necessário no iOS?','Não. Use a demo web e o deep link do Pi.']],
        ctaOpen:'Abrir PiWorldBank',ctaDocs:'Docs'}},
      hi:{tab:'हिन्दी',dir:'ltr',sections:{
        swapTitle:'🔄 स्वैप · Pi ↔ स्थानीय डिजिटल मुद्रा',
        swapDesc:'PiWorldBank के सुरक्षित Web3 इंटरफ़ेस से <span class="nowrap">रीयल-टाइम</span> में एक-क्लिक स्वैप करें।',
        swapBullets:['रीयल-टाइम GCV संदर्भ दर','वन-क्लिक स्वैप निष्पादन','पारदर्शी लेनदेन इतिहास और रसीदें'],
        featTitle:'🚀 विशेषताएँ',
        featBullets:['बैलेंस, भेजें, रिवॉर्ड्स, बेसिक&nbsp;इनकम','डीप लिंक: <span class="mono">pi://piworldbank</span>','स्वचालित भाषा (EN +10) · अटपटी लाइन-ब्रेक नहीं'],
        secTitle:'🛡️ सुरक्षा एवं अनुपालन',
        secBullets:['HTTPS ट्रांसपोर्ट · साइन किया हुआ APK · कोई थर्ड-पार्टी ट्रैकर नहीं','न्यूनतम विशेषाधिकार · डेमो में PII नहीं','Testnet/Mainnet स्थिति स्पष्ट'],
        privTitle:'📜 गोपनीयता',
        privBullets:['पासवर्ड/सीड वाक्यांश इकट्ठे नहीं किए जाते','वैकल्पिक न्यूनतम टेलीमेट्री (परफॉर्मेंस/एरर्स)'],
        roadTitle:'🗺️ रोडमैप',
        roadBullets:['V1: स्वैप + रिवॉर्ड्स डैशबोर्ड (Mainnet)','V2: शेड्यूल्ड पेमेन्ट, वॉल्ट्स, स्टेटमेंट्स (PDF)','V3: मल्टी-रीजन लिक्विडिटी पार्टनर · मर्चेंट SDK'],
        faqTitle:'❓ सामान्य प्रश्न',
        faqQAs:[['Mainnet कब लाइव होगा?','Core Team की मंजूरी के तुरंत बाद।'],['क्या डेमो डेटा सहेजता है?','नहीं। केवल रीड-ओनली/सैंडबॉक्स।'],['iOS में APK आवश्यक है?','नहीं। वेब डेमो और Pi डीप-लिंक का उपयोग करें।']],
        ctaOpen:'PiWorldBank खोलें',ctaDocs:'दस्तावेज़'}}
    };

    // Build language tabs
    const languages = ['en','ko','zh','es','fr','de','ja','ru','ar','pt','hi'];
    const langTabs = $('#langTabs');
    languages.forEach(code => {
      const b = document.createElement('button');
      b.className = 'btn pill';
      b.setAttribute('data-lang', code);
      b.setAttribute('role','tab');
      b.setAttribute('aria-selected','false');
      b.textContent = i18n[code].tab;
      langTabs.appendChild(b);
    });

    // Render i18n content
    const renderLang = (code) => {
      const data = i18n[code]; if (!data) return;
      document.documentElement.setAttribute('lang', code === 'zh' ? 'zh-Hans' : code);
      document.documentElement.setAttribute('dir', data.dir || 'ltr');
      $$('#langTabs [data-lang]').forEach(btn => btn.setAttribute('aria-selected', String(btn.getAttribute('data-lang')===code)));
      const s = data.sections;
      const qaHTML = s.faqQAs.map(([q,a]) => `<li><strong>${q}</strong> — ${a}</li>`).join('');
      const bullet = arr => arr.map(x=>`<li>${x}</li>`).join('');
      $('#i18n-content').innerHTML = `
        <h2>${s.swapTitle}</h2>
        <p>${s.swapDesc}</p>
        <ul class="check">${bullet(s.swapBullets)}</ul>
        <h2>${s.featTitle}</h2>
        <ul class="check">${bullet(s.featBullets)}</ul>
        <h2>${s.secTitle}</h2>
        <ul class="check">${bullet(s.secBullets)}</ul>
        <h2>${s.privTitle}</h2>
        <ul class="check">${bullet(s.privBullets)}</ul>
        <h2>${s.roadTitle}</h2>
        <ul class="check">${bullet(s.roadBullets)}</ul>
        <h2>${s.faqTitle}</h2>
        <ul class="check">${qaHTML}</ul>
        <div class="cta">
          <button class="btn primary" id="cta-open">${s.ctaOpen}</button>
          <button class="btn" id="cta-docs">${s.ctaDocs}</button>
        </div>`;
      $('#cta-open').addEventListener('click', () => { window.location.href = 'pi://piworldbank'; });
      $('#cta-docs').addEventListener('click', () => { if (DOCS_URL) window.open(DOCS_URL, '_blank', 'noopener'); else notify('Docs are coming soon.'); });
    };

    const saved = sessionStorage.getItem('pwb-lang') || (navigator.language||'en').slice(0,2);
    const initial = languages.includes(saved) ? saved : 'en';
    sessionStorage.setItem('pwb-lang', initial);
    renderLang(initial);
    $$('#langTabs [data-lang]').forEach(btn => btn.addEventListener('click', () => {
      const code = btn.getAttribute('data-lang'); sessionStorage.setItem('pwb-lang', code); renderLang(code);
    }));

    // APK HEAD check
    const APK_HEAD_CHECK = async () => { try { const r = await fetch(APK_URL,{method:'HEAD'}); return r.ok; } catch { return false; } };

    // CTAs top
    $('#btnOpenPi').addEventListener('click', () => {
      const timer = setTimeout(() => notify('If Pi Browser did not open, open Pi Browser and type: pi://piworldbank'), 1200);
      window.location.href = 'pi://piworldbank'; window.addEventListener('blur', () => clearTimeout(timer), { once:true });
    });
    $('#btnInstall').addEventListener('click', async () => {
      if (!/Android/i.test(ua)) return notify('APK install is Android-only. Use Live Demo / Video.');
      if (await APK_HEAD_CHECK()) window.location.href = APK_URL;
      else notify('APK not found yet. Please try the Live Demo.');
    });
    $('#btnDemo').addEventListener('click', () => {
      if (DEMO_URL && DEMO_URL !== './demo/') window.open(DEMO_URL, '_blank', 'noopener');
      show($('#demoBox'));
      if (YT_VIDEO_ID) { $('#yt').src = `https://www.youtube.com/embed/${YT_VIDEO_ID}`; show($('#videoBox')); }
      else { $('#videoBox').innerHTML = '<div style="padding:14px">Video preview coming soon. Use Live Demo meanwhile.</div>'; show($('#videoBox')); }
    });

    // Progressive enhancements
    window.addEventListener('load', () => {
      if (isIOS || !/Android/i.test(ua)) {
        show($('#demoBox'));
        if (YT_VIDEO_ID) { $('#yt').src = `https://www.youtube.com/embed/${YT_VIDEO_ID}`; show($('#videoBox')); }
      }
      window.addEventListener('error', ()=>{ (window._pwbErrs=(window._pwbErrs||0))+1; }, true);
      if ('serviceWorker' in navigator) navigator.serviceWorker.register('./sw.js').catch(()=>{});
    });
  </script>
</body>
</html>
